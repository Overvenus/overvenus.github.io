<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="keywords" content="">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content=""/>
<meta property="og:title" content="Neil">
<meta property="og:site_name" content="Neil"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="http://neilsh.me/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2015-08-29"/>
<meta property="article:modified_time" content="2015-08-29"/>



<meta name="msapplication-TileColor" content="#151515">
<meta name="msapplication-TileImage" content="/assets/favicon.png">

        <link rel="icon" href="/assets/favicon.png">
        <!--[if IE]>
        <link rel="shortcut icon" href="/assets/favicon.ico">
        <![endif]-->
        <link rel="apple-touch-icon" href="/assets/favicon.png">
        
        <link rel="stylesheet" href="/css/slender-font.css">
        
        <link rel="stylesheet" href="/css/slender-base.css">
        <link rel="stylesheet" href="/css/slender-color-schemes.css">
        <link rel="stylesheet" href="/css/font-awesome-4.5.0.min.css">
        <link rel="stylesheet" href="/css/highlight-9.1.0-default.min.css">
        <title>
            
                Neil
            
        </title>
    </head>
    <body class="color-scheme-white">
        <div class="container">
            <header>
                
                <nav><ul>
                    
                        <li>
                            <a href="/">
                                <i class="fa fa-home fa-fw"></i> <br>
                                Home
                            </a>
                        </li>
                    
                        <li>
                            <a href="/about/">
                                <i class="fa fa-user fa-fw"></i> <br>
                                About
                            </a>
                        </li>
                    
                        <li>
                            <a href="/archive/">
                                <i class="fa fa-archive fa-fw"></i> <br>
                                Archive
                            </a>
                        </li>
                    
                        <li>
                            <a href="/tags/">
                                <i class="fa fa-tags fa-fw"></i> <br>
                                Tags
                            </a>
                        </li>
                    
                </ul></nav>
                
                
                    <h1 class="brand">Neil</h1>
                    <aside>
                        <p>It's now or nerver.</p>
                    </aside>
                
            </header>

<section id="article-listing">
    
    
    <article>
        <h1 class="article-title"><a href="http://neilsh.me/2015/08/29/my-frist-internship/">第一份实习</a></h1>
        <p class="article-info">
            on <strong>Sat, Aug 29, 2015</strong> by <strong>Neil Shen</strong> &middot; <strong>1 min reading time</strong>
        </p>
        <div class="article-summary">
            <p class="article-summary"><p>两个月一晃而过，暑假结束了，第一份实习也结束了。</p>

<p>这段时间，我在 EasyLinking 实习，得到了 FULL TIME 的安卓开发工作经历，真真切切地认识到<strong>文档和注释</strong>重要性，同时还结识了一帮前辈：重视人才的纪总，平和的游总，自学成才的 iOS 大牛老王，后台开发大牛老邹和小胡，开发资历第一丁老师，全栈的北大高材生超哥，等等。</p>

<p>实习中给我印象最深的还是团队协作。不得不说，这个技术团队成员之间协助效率非常高，一个问题发现之后，马上就能得到反馈，我想这应该得利于扁平化的管理模式。</p>

<p>既然我实习的是安卓开发，那就说一下关于安卓的事吧。广播是一个安卓应用的重要组成部分，之前没有开发过业务逻辑复杂的应用，对本地广播的理解也就停留在 <a href="https://developer.android.com/reference/android/support/v4/content/LocalBroadcastManager.html">文档</a> 上面，经过这次实习，我已经 understand from practice ，它很强大，也很危险，不愧被称为安卓中的 <code>goto</code>(泪目，掉过坑)。对安卓的触屏事件也有了<a href="/2015/08/13/dispatch_and_handle_motionevent_in_android/">进一步的认识</a>。我还成功地劝服了安卓开发组，把 IDE 从 Eclipse 迁移到 AndroidStudio。:-)</p>

<p>在工作之余，我实现了一个小型的操作系统 <a href="https://bitbucket.org/overvenus/jos/">JOS</a>。由于白天没有空，JOS 的代码大部分是在晚上写的，每天都写到凌晨，导致 Work-life balance 很糟糕，脸上冒出了一些痘痘。</p>

<p>总的来说，这是一个有意义的暑假。</p>
</p>
             <p> <strong>... ...</strong> </p> 
        </div>
        <p class="article-read-more"><a href="http://neilsh.me/2015/08/29/my-frist-internship/">Read more &rarr;</a></p>
    </article>
    <div class="article-eof"></div>
    
    <article>
        <h1 class="article-title"><a href="http://neilsh.me/2015/08/13/dispatch-and-handle-motionevent-in-android/">Android 触屏事件处理分发--以 SwipeRefreshLayout 为例</a></h1>
        <p class="article-info">
            on <strong>Thu, Aug 13, 2015</strong> by <strong>Neil Shen</strong> &middot; <strong>7 min reading time</strong>
        </p>
        <div class="article-summary">
            <p class="article-summary"><h2 id="pulltorefresh-与-swiperefreshlayout:123fe8e46418ce87f36f17756a395264">PullToRefresh 与 SwipeRefreshLayout</h2>

<p>这段时间我在 Easyinking 公司实习， 做安卓开发。之前的 App 中大量使用 <a href="https://github.com/chrisbanes/Android-PullToRefreshhttps://github.com/chrisbanes/Android-PullToRefresh">Android-PullToRefresh</a>。这个轮子很经典，在较久版本的安卓上面也很好使，不过作者已经放弃维护了，在我们的 App 上也发现了一个诡异的BUG：与WebView配合使用时，在网络环境差的情况下会出现一次下拉多次刷新的情况，症状就是整个网页在那上下抽搐。在官方支持库 support-v4:22 中自带了一个类似的 SwipeRefreshLayout，效果也是一级棒。由于两者的 API 设计差不多，使用的情景也几乎一样，所以可以无痛地从 <a href="https://github.com/chrisbanes/Android-PullToRefreshhttps://github.com/chrisbanes/Android-PullToRefresh">PullToRefresh</a> 转移过来。</p>

<h2 id="敏感的-swiperefreshlayout:123fe8e46418ce87f36f17756a395264">敏感的 SwipeRefreshLayout</h2>

<p>从 PullToRefresh 转移到 SwipeRefreshLayout 大概花了十来分钟，初步测试出来的效果也令人满意。但是，实际使用中总会有意想不到的问题。我们把一个WebView放在了 SwipeRefreshLayout 中， 该 WebView 呈现的网页中有一个图片轮播，可左右滑动，下面的问题是 SwipeRefreshLayout 过于敏感，它把稍有下拉倾向的左右滑动全部拦截掉，并把他们当作下拉的手势，典型的 False Positive ， 处理的思路也很简单，既然是误报，过滤之即可。</p>
</p>
             <p> <strong>... ...</strong> </p> 
        </div>
        <p class="article-read-more"><a href="http://neilsh.me/2015/08/13/dispatch-and-handle-motionevent-in-android/">Read more &rarr;</a></p>
    </article>
    <div class="article-eof"></div>
    
    <article>
        <h1 class="article-title"><a href="http://neilsh.me/2015/07/04/goto-and-topological-sorting/">Goto 与拓扑排序</a></h1>
        <p class="article-info">
            on <strong>Sat, Jul 04, 2015</strong> by <strong>Neil Shen</strong> &middot; <strong>3 min reading time</strong>
        </p>
        <div class="article-summary">
            <p class="article-summary"><h2 id="goto-in-c:e47801faec949620d06a03161065dbeb">goto in C</h2>

<p><code>goto</code>在C语言中可以实现无限制跳转，现在有很多人都建议在实际编程中使用它，因为它会使程序的控制流程(control flow)变得混乱，难以阅读。</p>

<h3 id="goto-break-continue:e47801faec949620d06a03161065dbeb">goto, break, continue</h3>

<p><code>goto</code>,<code>break</code>,<code>continue</code> 三者都可以打断控制流程，但后两者都是有限制的，只能打断当前的<code>{}</code>(scope)。</p>

<p><code>continue</code> 只能写在loop里，不然编译报：continue statement not within loop，</p>

<p><code>break</code> 只能写在loop或者switch中，不然编译报：break statement not within loop or switch。</p>

<p><code>goto</code> 则不同，它可写在和跳转到函数的任意行，自由度极大，一个不小心就会有bug，这样的代码通常也难以维护。不过,用的好当然也可以增加效率的同时提高可读性。</p>
</p>
             <p> <strong>... ...</strong> </p> 
        </div>
        <p class="article-read-more"><a href="http://neilsh.me/2015/07/04/goto-and-topological-sorting/">Read more &rarr;</a></p>
    </article>
    <div class="article-eof"></div>
    
    <article>
        <h1 class="article-title"><a href="http://neilsh.me/2015/07/02/os_setup_and_virtual_memory_setup/">内核的启动和建立虚拟内存</a></h1>
        <p class="article-info">
            on <strong>Thu, Jul 02, 2015</strong> by <strong>Neil Shen</strong> &middot; <strong>7 min reading time</strong>
        </p>
        <div class="article-summary">
            <p class="article-summary"><h2 id="引言:4d7dde7d86a055790fb12700223cbbb1">引言</h2>

<p>这篇博文写 JOS 如何建立虚拟内存，同时也是 MIT6.828 Lab2 的答案。
JOS 是 MIT6.828 操作系统课程中给学生练习用的小型内核。JOS 是一个 X86 平台的32位操作系统，它是根据 Unix 第6版 设计的，也就是这篇paper <a href="http://pdos.csail.mit.edu/6.828/2014/readings/ritchie78unix.pdf">The UNIX Time-Sharing System</a>。</p>

<h2 id="mmu的工作机制:4d7dde7d86a055790fb12700223cbbb1">MMU的工作机制</h2>

<p><code>MMU</code>是 x86 CPU 集成的一个硬件，负责把虚拟地址翻译成物理地址。增加一层翻译不是会降低性能，那为什么不直接用物理地址？这是因为设计 Computer 和 OS 的 Scientists 为了实现不同应用程序之间的 isolation 以增加 safety 和降低应用程序的 Complexity。
<code>MMU</code>在计算机启动初期是不工作的，只有寄存器<code>cr0</code>中的flag打开，它才会工作。</p>

<p>本文写最简单的32位虚拟内存机制，同样也是 JOS 用的。
先祭出一张神图，这张图生动形象的说明了<code>MMU</code>的工作流程：</p>
</p>
             <p> <strong>... ...</strong> </p> 
        </div>
        <p class="article-read-more"><a href="http://neilsh.me/2015/07/02/os_setup_and_virtual_memory_setup/">Read more &rarr;</a></p>
    </article>
    <div class="article-eof"></div>
    
    
    
    <ul class="pagination">
        
        <li>
            <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
        </li>
        
        <li
        >
        <a href="/page/3/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
        </li>
        
        <li
        ><a href="/">1</a></li>
        
        <li
        ><a href="/page/2/">2</a></li>
        
        <li
        ><a href="/page/3/">3</a></li>
        
        <li
        class="active"><a href="/page/4/">4</a></li>
        
        <li
        class="disabled">
        <a href="" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
        </li>
        
        <li>
            <a href="/page/4/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
        </li>
        
    </ul>
    
</section>
        </div>
        <footer>
            <div>
    <p>
        <i class="fa fa-copyright fa-fw"></i>
         2015 - 2016 Neil Shen
        <br><i class="fa fa-creative-commons fa-fw"></i> BY-NC-SA
    </p>
</div>

        </footer>
        <script src="/js/highlight-9.1.0.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        

    
        <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-69367210-1', 'auto');
        ga('send', 'pageview');
        </script>
    




  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?9546ee4e5eb51908bb6d5c50d98b6048";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


    </body>
</html>


<!--
    Slender-Next v1.3.1
    Theme by Neil Shen <overvenus[AT]gmail.com>  https://github.com/overvenus
-->
